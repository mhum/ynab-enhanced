function TabApiProxy(e){var n=require("kango/console"),t=require("kango/storage").storage,r=require("kango/i18n"),s=require("kango/invoke_async"),i=require("kango/message_target"),a=[];this.xhr={send:function(){var e=require("kango/xhr");return e.send.apply(e,arguments)}},this.console={log:function(){return n.log.apply(n,arguments)},warn:function(){return n.warn.apply(n,arguments)},error:function(){return n.error.apply(n,arguments)}},this.browser={getName:function(){return require("kango/browser").getName()}},this.io={getResourceUrl:function(e){return require("kango/io").getResourceUrl(e)}},this.tab={isPrivate:function(){return e.isPrivate()}},this.storage={setItem:function(e,n){return t.setItem(e,n)},getItem:function(e){return t.getItem(e)},removeItem:function(e){return t.removeItem(e)},getKeys:function(){return t.getKeys()},clear:function(){return t.clear()}},this.i18n={getMessage:function(){return r.getMessage.apply(r,arguments)},getMessages:function(){return r.getMessages.apply(r,arguments)},getCurrentLocale:function(){return r.getCurrentLocale.apply(r,arguments)}},this.getExtensionInfo=function(){return require("kango/extension_info").getRawData()};var u=this.dispatchMessage=function(n,t){var r=require("kango/messaging"),s={name:n,data:null!=t?object.sanitize(t):t,origin:"tab",source:e,target:e};return r.dispatchMessageEx(s)},o=this.addEventListener=function(e,n){if("message"==e){for(var t=0;t<a.length;t++)if(a[t]==n)return;a.push(n)}};this.fireEvent=function(e,n){if("message"==e){n.source&&n.target||(n.source=n.target=this);for(var t=0;t<a.length;t++)a[t](n)}};var g=new s(o,u,utils.func.invoke,func.bind(n.log,n));this.invokeAsync=g.invokeAsync,this.invokeAsyncCallback=g.invokeAsyncCallback;var c=new i(o);this.addMessageListener=func.bind(c.addMessageListener,c),this.removeMessageListener=func.bind(c.removeMessageListener,c)}var utils=require("kango/utils"),object=utils.object,func=utils.func;